@using MaksimShimshon.GameManagePanel.Features.SystemInfo.Presentation.Components.ViewModels

@inherits WidgetComponentBase<PluginEntry, ISystemResourcesStatusViewModel>

@if (ViewModel!.IsLoading || ViewModel.SystemInfo == default)
{
    <MudGrid>
        <MudItem xs=12>
            <MudAlert Severity=@Severity.Info ContentAlignment=@HorizontalAlignment.Center NoIcon=true>
                <MudProgressLinear Color="Color.Info" Indeterminate="true" Class="my-1" />
                <MudText Align=Align.Center>Awaiting System Info...</MudText>
            </MudAlert>
        </MudItem>
    </MudGrid>

}
else {
    <MudGrid>
        <MudItem xs=12>
            <MudText Typo=@Typo.h6>@("System Information")</MudText>
            <MudDivider Class="my-2" />
        </MudItem>
        <MudItem xs=12 Class="d-inline-flex justify-space-evenly">
            <MudProgressCircular Style="height: 80px; width: 80px" Color="Color.Primary" Value=@CpuUsage Size="Size.Large">
                <ChildContent>
                    <MudStack Spacing="0" AlignItems="AlignItems.Center" Justify="Justify.Center">
                        <MudText Typo="Typo.subtitle2">CPU</MudText>
                        <MudText Typo="Typo.subtitle2">@($"{MathF.Round(CpuUsage, 0)}%")</MudText>
                    </MudStack>
                </ChildContent>
            </MudProgressCircular>
            <MudProgressCircular Style="height: 80px; width: 80px" Color="Color.Primary" Value=@RamUsage Size="Size.Large">
                <ChildContent>
                    <MudStack Spacing="0" AlignItems="AlignItems.Center" Justify="Justify.Center">
                        <MudText Typo="Typo.subtitle2">RAM</MudText>
                        <MudText Typo="Typo.subtitle2">@($"{RamUsage}%")</MudText>
                    </MudStack>
                </ChildContent>
            </MudProgressCircular>
            <MudProgressCircular Style="height: 80px; width: 80px" Color="Color.Primary" Value=@DiskUsage Size="Size.Large">
                <ChildContent>
                    <MudStack Spacing="0" AlignItems="AlignItems.Center" Justify="Justify.Center">
                        <MudText Typo="Typo.subtitle2">DISK</MudText>
                        <MudText Typo="Typo.subtitle2">@($"{DiskUsage}%")</MudText>
                    </MudStack>
                </ChildContent>
            </MudProgressCircular>
        </MudItem>
        <MudItem xs=12>
            <MudDivider />
        </MudItem>
        <MudItem xs=6>
            <MudText Typo=@Typo.subtitle1>@($"CPU")</MudText>
            <MudText Typo=@Typo.caption>@($"{ViewModel.SystemInfo.Processor.Cores} Cores")</MudText><br />
            <MudText Typo=@Typo.caption>@($"{ViewModel.SystemInfo.Processor.Model}")</MudText>
        </MudItem >
        <MudItem xs=6>
            <MudText Typo=@Typo.subtitle1>@($"RAM")</MudText>
            <MudText Typo=@Typo.caption>@FormatMegabytes(ViewModel.SystemInfo.Memory.Total)</MudText>
        </MudItem>
        <MudItem xs=6>
            <MudText Typo=@Typo.subtitle1>@($"DISK")</MudText>
            <MudText Typo=@Typo.caption>@FormatMegabytes(ViewModel.SystemInfo.Disk.Total)</MudText>
        </MudItem>

    </MudGrid>
}
